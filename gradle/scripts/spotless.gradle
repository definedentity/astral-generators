spotless {
    encoding "UTF-8"

    kotlin {
        target "src/*/kotlin/astralgenerators/**/*.kt"

        endWithNewline()
        indentWithSpaces()
        toggleOffOn()

        ktfmt().kotlinlangStyle().configure {
            it.removeUnusedImports = true
        }
    }

    json {
        target 'src/*/resources/**/*.json'
        targetExclude 'src/generated/resources/**'

        indentWithSpaces(2)
        endWithNewline()

        biome().downloadDir(new File(rootDir, ".gradle/biome").absolutePath)
    }

    format("dotfiles") {
        target(".gitignore", ".gitattributes", ".editorconfig")
        trimTrailingWhitespace()
        indentWithSpaces(4)
        endWithNewline()
    }
}